<div class="p-2">
  <h5 class="mt-2 text-center">{{ 'productsList' | translate | uppercase }}</h5>
  <hr>

  <p-table [value]="products" [resizableColumns]="true" selectionMode="single" sortMode="multiple">
    <ng-template pTemplate="header">
      <tr>
        <th class="text-center" width="50">â„–</th>
        <th class="text-center" [pSortableColumn]="'name'" pResizableColumn>
          {{ 'name' | translate | uppercase }}
          <p-sortIcon [field]="'name'"></p-sortIcon>
        </th>
        <th class="text-center" [pSortableColumn]="'desc'" pResizableColumn>
          {{ 'desc' | translate | uppercase }}
          <p-sortIcon [field]="'desc'"></p-sortIcon>
        </th>
        <th class="text-center" [pSortableColumn]="'count'" width="150">
          {{ 'count' | translate | uppercase }}
          <p-sortIcon [field]="'count'"></p-sortIcon>
        </th>
        <th class="text-center" [pSortableColumn]="'price'" width="80">
          {{ 'price' | translate | uppercase }}
          <p-sortIcon [field]="'price'"></p-sortIcon>
        </th>
        <th width="50"></th>
        <th width="50"></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-p let-rowIndex="rowIndex">
      <tr [pSelectableRow]="p">
        <td class="text-right">{{ rowIndex + 1 }}</td>
        <td pEditableColumn>
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input type="text" class="text-right" [(ngModel)]="p.name" required>
            </ng-template>
            <ng-template pTemplate="output">{{ p.name }}</ng-template>
          </p-cellEditor>
        </td>
        <td>{{ p['description'] }}</td>
        <td class="text-right">{{ p.count }}</td>
        <td class="text-right" pEditableColumn>
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input type="number" class="text-right" [(ngModel)]="p.price" required>
            </ng-template>
            <ng-template pTemplate="output">{{ p.price/100 | number:'0.2' }}</ng-template>
          </p-cellEditor>
        </td>
        <td class="text-center">
          <i class="fa fa-fw fa-save text-primary pointer" (click)="updateProduct(p)" [pTooltip]="'save' | translate | uppercase" [ngClass]="{'text-success': p['success'] && p['done'], 'text-danger': !p['success'] && p['done']}"></i>
        </td>
        <td class="text-center">
          <i class="fa fa-fw fa-trash text-danger pointer" (click)="removeProduct(p)" [pTooltip]="'delete' | translate | uppercase"></i>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>