<div class="whole-window">
  <div class="col-8 col-sm-6 col-md-5 col-lg-4 col-xl-3">
    <h2 class="text-center mt-2 mb-4">{{ 'login.title' | translate | titlecase }}</h2>

    <form name="loginForm" (ngSubmit)="f.form.valid && login()" #f="ngForm">
      <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
        <label class="font-weight-bold ml-2" for="username">{{ 'login.login' | translate | titlecase }}</label>
        <input type="text" class="form-control" name="username" [(ngModel)]="model.username" #username="ngModel"
          placeholder="email / phone" required />
        <span *ngIf="f.submitted && !username.valid" class="help-block un">Username is required</span>
      </div>
      <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
        <label class="font-weight-bold ml-2" for="password">{{ 'password' | translate | titlecase }}</label>
        <input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel" required />
        <span *ngIf="f.submitted && !password.valid" class="help-block psw">Password is required</span>
      </div>
      <div class="form-group d-flex align-items-baseline justify-content-end">
        <a class="mr-4" href="/#/registration?first=true" *ngIf="usersNotExist">{{ 'addUser' | translate | titlecase }}</a>
        <button [disabled]="loading" class="btn btn-primary pl-3 mt-2" [ngClass]="{'pr-2': error, 'pr-4': !error}" autofocus>
          <div class="d-flex justify-content-between align-items-baseline">
            <i class="fa fa-fw fa-sign-in pr-4"></i>
            <span>{{ 'login.button' | translate | titlecase }}</span>
            <i *ngIf="loading" class="fa fa-spinner fa-spin fa-fw ml-2"></i>
          </div>
        </button>
      </div>
      <div *ngIf="error" class="alert alert-danger">{{ error | translate }}</div>
    </form>
  </div>
</div>